<style>
    div {
        background-color: grey;
        display: inline-block;
        margin:30px;
        width: 100px;
        height: 100px;
        border-radius: 50px;
    }
    .green.light{
        background-color: green;
    }
    .red.light{
        background-color: red;
    }
    .yellow.light{
        background-color: yellow;
    }
</style>
<div class="green"></div>
<div class="yellow"></div>
<div class="red"></div>
<script>

function changeColor(color) {
    const lights = document.getElementsByTagName('div');
    for(var i = 0; i< 3; i++) {
        lights[i].classList.remove('light')
    }
    document.getElementsByClassName(color)[0].classList.add('light')
}
function sleep(duration) {
    return new Promise((resolve,reject)=> {
        setTimeout(resolve,duration)
    })
}
async function go() {
    while(true){
        changeColor('green')
        await sleep(1000)
        changeColor('yellow')
        await sleep(500)
        changeColor('red')
        await sleep(500)
    }
}
go();
</script>
